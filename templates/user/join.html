<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>회원 가입</title>
	<!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<!-- Jquery -->
	<script  src="https://code.jquery.com/jquery-latest.min.js"></script>
  </head>
<body style="background: #FAFAFA;">
<div style="display: flex; align-items: center; width: 100%; flex-direction: column;">
	<div style="padding: 20px; text-align: center; border: solid 1px rgba(219, 219, 219, 1); width: 300px; height: 500px; margin-top: 30px; background: white;">
		<div style="padding-bottom: 10px;"><img style="width: 200px;"	src="https://fontmeme.com/images/instagram-new-logo.png" alt=""></div>
		<div style="font-weight: bold; color: gray; padding-bottom: 20px">친구들의 사진과 동영상을 보려면 가입하세요.</div>
		<div class="form-floating mb-3">
			<input type="email" class="form-control" id="input_email" style="min-height: 45px; height: 45px;" placeholder="name@example.com">
			<label for="input_email" style="font-size: 14px; padding: 4px 10px; ">이메일 주소</label>
		</div>
		<div class="form-floating mb-3">
			<input type="text" class="form-control" id="input_name" style="min-height: 45px; height: 45px;" placeholder="name@example.com">
			<label for="input_name" style="font-size: 14px; padding: 4px 10px; ">이름</label>
		</div>
		<div class="form-floating mb-3">
			<input type="text" class="form-control" id="input_nickname" style="min-height: 45px; height: 45px;" placeholder="name@example.com">
			<label for="input_nickname" style="font-size: 14px; padding: 4px 10px; ">닉네임</label>
		</div>
		<div class="form-floating mb-3">
			<input type="password" class="form-control" id="input_password" style="min-height: 45px; height: 45px;" placeholder="name@example.com">
			<label for="input_password" style="font-size: 14px; padding: 4px 10px; ">비밀번호</label>
		</div>
		<button id="join_button" type="button" class="btn btn-primary" style="width: 100% ;">가입 버튼</button>
	</div>
	<div style="padding: 20px; text-align: center; border: solid 1px rgba(219, 219, 219, 1); width: 300px; height: 70px; margin-top: 30px; background: white;">
		<div>계정이 있으신가요? <a href="/user/login">로그인</a></div>
	</div>
</div>

<script>
	$("#join_button").click(function () {

		let email = $("#input_email").val();
		let password = $("#input_password").val();
		let nickname = $("#input_nickname").val();
		let name = $("#input_name").val();

		$.ajax({
			url : '/user/join',
			type : 'POST',
			data : {
				email : email,
				password : password,
				nickname : nickname,
				name : name
			},
			success : function (reqeust) {
				console.log('성공!');
				alert("회원가입이 완료되었습니다. 로그인해주세요.")
				location.replace('/user/login')
			},
			error : function (request, status, error) {
				console.log('에러!');
			},
			complete : function () {
				console.log('완료!');
			}
		});

	});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>